@import 'tailwindcss';

/* === Design Tokens === */

@theme {
	/* Primary palette */
	--color-primary: #4f46e5;
	--color-primary-light: #818cf8;
	--color-primary-dark: #3730a3;

	/* Game feedback */
	--color-success: #22c55e;
	--color-success-light: #86efac;
	--color-error: #f87171;
	--color-error-light: #fecaca;
	--color-warning: #fbbf24;

	/* Game rewards */
	--color-xp-gold: #f59e0b;
	--color-gem-purple: #a855f7;

	/* Rarity colors */
	--color-rarity-common: #9ca3af;
	--color-rarity-rare: #3b82f6;
	--color-rarity-epic: #8b5cf6;
	--color-rarity-legendary: #f59e0b;
	--color-rarity-mythic: #ef4444;

	/* Answer button backgrounds */
	--color-answer-a: #dbeafe;
	--color-answer-b: #d1fae5;
	--color-answer-c: #fce7f3;
	--color-answer-d: #fef3c7;

	/* Timer (anti-anxiety: never red) */
	--color-timer-ok: #22c55e;
	--color-timer-warn: #fbbf24;
	--color-timer-urgent: #fb923c;

	/* Mastery heatmap */
	--color-mastery-low: #ef4444;
	--color-mastery-mid: #fbbf24;
	--color-mastery-good: #86efac;
	--color-mastery-high: #22c55e;

	/* Neutral */
	--color-bg: #f8fafc;
	--color-bg-card: #ffffff;
	--color-surface: #ffffff;
	--color-text: #1e293b;
	--color-text-muted: #64748b;
	--color-border: #e2e8f0;

	/* Typography scale */
	--font-size-xs: 0.875rem; /* 14px - smallest text */
	--font-size-sm: 1rem; /* 16px - body small */
	--font-size-base: 1.125rem; /* 18px - body */
	--font-size-lg: 1.25rem; /* 20px - question text */
	--font-size-xl: 1.5rem; /* 24px - answer buttons */
	--font-size-2xl: 1.75rem; /* 28px - numpad digits */
	--font-size-3xl: 2.25rem; /* 36px - display area */

	/* Touch target sizes */
	--size-touch-min: 48px;
	--size-touch-primary: 56px;

	/* Spacing */
	--spacing-touch-gap: 12px;
	--spacing-numpad-gap: 8px;

	/* Border radius */
	--radius-sm: 0.5rem;
	--radius-md: 0.75rem;
	--radius-lg: 1rem;
	--radius-xl: 1.25rem;
	--radius-2xl: 1.5rem;
	--radius-full: 9999px;

	/* Shadows */
	--shadow-soft: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04);
	--shadow-card: 0 4px 12px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.06);
	--shadow-elevated: 0 8px 24px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08);
	--shadow-glow-primary: 0 0 20px rgba(79, 70, 229, 0.3);
	--shadow-glow-success: 0 0 20px rgba(34, 197, 94, 0.3);
	--shadow-glow-error: 0 0 16px rgba(248, 113, 113, 0.3);
}

/* === Base styles === */

html {
	font-family:
		system-ui,
		-apple-system,
		'Segoe UI',
		Roboto,
		sans-serif;
	-webkit-tap-highlight-color: transparent;
	-webkit-font-smoothing: antialiased;
}

body {
	background-color: var(--color-bg);
	color: var(--color-text);
	min-height: 100dvh;
}

@media (min-width: 640px) {
	body {
		background-color: #e2e8f0;
		display: flex;
		align-items: center;
		justify-content: center;
	}
}

/* App shell on desktop - fixed phone height */
.app-shell {
	min-height: 100dvh;
}

@media (min-width: 640px) {
	.app-shell {
		min-height: 0;
	}
}

/* === Clickable elements: always show pointer cursor === */

button,
a,
[role='button'],
[onclick],
input[type='submit'],
input[type='button'],
input[type='reset'],
select,
summary {
	cursor: pointer;
}

/* === Animation keyframes === */

@keyframes slideUp {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes scaleIn {
	from {
		opacity: 0;
		transform: scale(0.85);
	}
	to {
		opacity: 1;
		transform: scale(1);
	}
}

@keyframes bounceIn {
	0% {
		opacity: 0;
		transform: scale(0.3);
	}
	50% {
		transform: scale(1.08);
	}
	70% {
		transform: scale(0.95);
	}
	100% {
		opacity: 1;
		transform: scale(1);
	}
}

@keyframes shake {
	0%,
	100% {
		transform: translateX(0);
	}
	15% {
		transform: translateX(-6px);
	}
	30% {
		transform: translateX(5px);
	}
	45% {
		transform: translateX(-4px);
	}
	60% {
		transform: translateX(3px);
	}
	75% {
		transform: translateX(-2px);
	}
}

@keyframes pulseSuccess {
	0% {
		box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.5);
	}
	50% {
		box-shadow: 0 0 0 12px rgba(34, 197, 94, 0);
	}
	100% {
		box-shadow: 0 0 0 0 rgba(34, 197, 94, 0);
	}
}

@keyframes confettiBurst {
	0% {
		opacity: 1;
		transform: scale(0) rotate(0deg);
	}
	50% {
		opacity: 1;
		transform: scale(1.2) rotate(180deg);
	}
	100% {
		opacity: 0;
		transform: scale(0.8) rotate(360deg);
	}
}

@keyframes countUp {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* === Utility classes === */

.animate-slide-up {
	animation: slideUp 0.3s ease-out both;
}

.animate-fade-in {
	animation: fadeIn 0.2s ease-out both;
}

.animate-scale-in {
	animation: scaleIn 0.2s ease-out both;
}

.animate-bounce-in {
	animation: bounceIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) both;
}

.animate-shake {
	animation: shake 0.4s ease-out both;
}

.animate-pulse-success {
	animation: pulseSuccess 0.6s ease-out both;
}

.animate-count-up {
	animation: countUp 0.4s ease-out both;
}

/* Staggered animation delays */
.delay-100 {
	animation-delay: 0.1s;
}
.delay-200 {
	animation-delay: 0.2s;
}
.delay-300 {
	animation-delay: 0.3s;
}
.delay-400 {
	animation-delay: 0.4s;
}

/* === Pixel art utilities === */

.pixel-art {
	image-rendering: pixelated;
	image-rendering: crisp-edges;
}

.pixel-border {
	border: 4px solid var(--color-primary-dark);
	box-shadow:
		4px 4px 0 0 var(--color-primary-dark),
		-1px -1px 0 0 var(--color-primary-dark);
}

/* === Gradient backgrounds === */

.bg-gradient-playful {
	background: linear-gradient(135deg, #818cf8 0%, #4f46e5 50%, #a855f7 100%);
}

.bg-gradient-warm {
	background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #fb923c 100%);
}

.bg-gradient-fresh {
	background: linear-gradient(135deg, #86efac 0%, #22c55e 50%, #059669 100%);
}
